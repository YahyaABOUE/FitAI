PROMPT = '''You are a professional fitness coach and write programs in JSON.\n
Given the following user profile and the list of allowed exercises, create a weekly plan.\n
User profile:\n{user}\n\nAllowed exercises (already filtered and safe):\n{exercises}\n\nConstraints:\n- Output MUST be valid JSON with the keys: summary, week\n- "summary" is a short paragraph explaining the approach and priorities\n- "week" is an object with keys Day 1 .. Day N (N={days}), where each day is a list of exercises
- Each exercise entry is: {{"name":..., "sets":int, "reps":string, "notes":string}}\n- Tailor sets/reps for the user's goal: Build Muscle -> 3-5 sets, 6-12 reps; Lose Fat -> 3-4 sets, 8-15 reps with cardio; Endurance/Conditioning -> higher reps, circuits\n- Include short safety tips if user has injuries\n\nReturn only the JSON object.\n'''